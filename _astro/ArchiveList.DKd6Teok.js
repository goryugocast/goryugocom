import{d as m,T as g}from"./hooks.module.CXkgNaXo.js";import{l as b}from"./preact.module.IsPPbktY.js";var x=0;function r(a,o,l,h,c,p){o||(o={});var s,n,e=o;if("ref"in e)for(n in e={},o)n=="ref"?s=o[n]:e[n]=o[n];var i={type:a,props:e,key:l,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--x,__i:-1,__u:0,__source:c,__self:p};if(typeof a=="function"&&(s=a.defaultProps))for(n in s)e[n]===void 0&&(e[n]=s[n]);return b.vnode&&b.vnode(i),i}const v=[{value:"all",label:"全て"},{value:"ks",label:"アトミック・シンキング"},{value:"obv",label:"Obsidianの全技術"},{value:"obt",label:"あなたのためのObsidian"}];function u(a){const o=(a.file||"").toLowerCase(),l=(a.url||"").toLowerCase();return o.startsWith("ks")||/\/p\/ks\d+/.test(l)?"ks":o.startsWith("obv")||/\/p\/obv\d+/.test(l)?"obv":o.startsWith("obt")||/\/p\/obt\d+/.test(l)?"obt":null}function w({items:a,enableVideoSeriesFilter:o=!1}){const[l,h]=m(""),[c,p]=m("all"),s=g(()=>a.filter(e=>{const i=u(e),t=!o||c==="all"||i===c,f=(e.title||"").toLowerCase().includes(l.toLowerCase())||(e.description||"").toLowerCase().includes(l.toLowerCase())||(e.body||"").toLowerCase().includes(l.toLowerCase());return t&&f}),[a,l,c,o]),n=g(()=>{const e={};return s.forEach(i=>{const t=new Date(i.date_published).getFullYear();e[t]||(e[t]=[]),e[t].push(i)}),Object.entries(e).sort((i,t)=>t[0]-i[0])},[s]);return r("div",{children:[r("div",{style:{marginBottom:"2rem",padding:"1rem",background:"#f5f5f5",borderRadius:"8px"},children:[r("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:r("input",{type:"text",placeholder:"Search archives...",value:l,onInput:e=>h(e.target.value),style:{flex:1,padding:"0.5rem",fontSize:"1rem",borderRadius:"4px",border:"1px solid #ddd"}})}),o&&r("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"0.5rem",marginBottom:"1rem"},children:v.map(e=>r("button",{type:"button",onClick:()=>p(e.value),style:{appearance:"none",width:"100%",padding:"0.4rem 0.75rem",borderRadius:"999px",border:"1px solid #ddd",background:c===e.value?"#0066cc":"#fff",color:c===e.value?"#fff":"#444",fontSize:"0.9rem",lineHeight:1.2,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer"},title:e.label,children:e.label},e.value))}),r("div",{children:["Showing ",s.length," items"]})]}),r("div",{className:"archive-list",children:n.map(([e,i])=>r("div",{children:[r("h2",{style:{borderBottom:"2px solid #eee",paddingBottom:"0.5rem",marginTop:"2rem"},children:e}),r("ul",{style:{listStyle:"none",padding:0},children:i.map((t,f)=>r("li",{style:{marginBottom:"1.5rem"},children:[r("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"0.2rem"},children:[new Date(t.date_published).toLocaleDateString("ja-JP"),r("span",{style:{marginLeft:"0.8rem",padding:"2px 6px",borderRadius:"4px",background:t.type==="video"?"#e6f0ff":"#f0f0f0",color:t.type==="video"?"#0066cc":"#666",fontSize:"0.8rem"},children:t.type==="video"?"VIDEO":"ARTICLE"}),o&&t.type==="video"&&u(t)&&r("span",{style:{marginLeft:"0.5rem",padding:"2px 6px",borderRadius:"4px",background:"#f0f7ff",color:"#1f4d8f",fontSize:"0.8rem"},children:v.find(d=>d.value===u(t))?.label})]}),r("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.2rem"},children:r("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:t.title})}),t.subtitle&&r("div",{style:{fontWeight:"bold",color:"#555",fontSize:"0.95rem"},children:t.subtitle}),t.description&&r("div",{style:{fontSize:"0.95rem",color:"#444",marginTop:"0.3rem"},children:t.description}),t.chapters&&t.chapters.length>0&&r("details",{style:{marginTop:"1rem",background:"#f9f9f9",padding:"0.75rem 1rem",borderRadius:"4px"},children:[r("summary",{style:{fontSize:"0.9rem",fontWeight:"bold",color:"#0066cc",cursor:"pointer"},children:["Chapters (Video) - ",t.chapters.length]}),r("ul",{style:{paddingLeft:"1.2rem",margin:"0.75rem 0 0 0"},children:t.chapters.map((d,y)=>r("li",{style:{marginBottom:"0.5rem",fontSize:"0.9rem"},children:[r("span",{style:{fontFamily:"monospace",background:"#eee",padding:"2px 4px",borderRadius:"3px",marginRight:"8px"},children:d.timestamp}),d.url?r("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",style:{fontWeight:"500",color:"#0066cc",textDecoration:"none"},children:d.title}):r("span",{style:{fontWeight:"500"},children:d.title}),d.description&&r("div",{style:{marginTop:"2px",color:"#666",fontSize:"0.85rem",whiteSpace:"pre-wrap"},children:[d.description.slice(0,150),d.description.length>150?"...":""]})]},y))})]})]},f))})]},e))})]})}export{w as default};
