import{d as m,T as b}from"./hooks.module.CXkgNaXo.js";import{l as y}from"./preact.module.IsPPbktY.js";var _=0;function e(s,l,n,v,p,u){l||(l={});var i,d,a=l;if("ref"in a)for(d in a={},l)d=="ref"?i=l[d]:a[d]=l[d];var f={type:s,props:a,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--_,__i:-1,__u:0,__source:p,__self:u};if(typeof s=="function"&&(i=s.defaultProps))for(d in i)a[d]===void 0&&(a[d]=i[d]);return y.vnode&&y.vnode(f),f}const x=[{value:"all",label:"全て"},{value:"ks",label:"アトミック・シンキング"},{value:"obv",label:"Obsidianの全技術"},{value:"obt",label:"あなたのためのObsidian"}];function g(s){const l=(s.file||"").toLowerCase(),n=(s.url||"").toLowerCase();return l.startsWith("ks")||/\/p\/ks\d+/.test(n)?"ks":l.startsWith("obv")||/\/p\/obv\d+/.test(n)?"obv":l.startsWith("obt")||/\/p\/obt\d+/.test(n)?"obt":null}function L({items:s,enableVideoSeriesFilter:l=!1}){const[n,v]=m(""),[p,u]=m("all"),[i,d]=m("all"),a=b(()=>s.filter(t=>{const c=g(t),r=!l||i==="all"||c===i,h=(t.title||"").toLowerCase().includes(n.toLowerCase())||(t.description||"").toLowerCase().includes(n.toLowerCase())||(t.body||"").toLowerCase().includes(n.toLowerCase()),o=p==="all"||t.type===p;return r&&h&&o}),[s,n,p,i,l]),f=b(()=>{const t={};return a.forEach(c=>{const r=new Date(c.date_published).getFullYear();t[r]||(t[r]=[]),t[r].push(c)}),Object.entries(t).sort((c,r)=>r[0]-c[0])},[a]);return e("div",{children:[e("div",{style:{marginBottom:"2rem",padding:"1rem",background:"#f5f5f5",borderRadius:"8px"},children:[e("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[e("input",{type:"text",placeholder:"Search archives...",value:n,onInput:t=>v(t.target.value),style:{flex:1,padding:"0.5rem",fontSize:"1rem",borderRadius:"4px",border:"1px solid #ddd"}}),e("select",{value:p,onChange:t=>u(t.target.value),style:{padding:"0.5rem",fontSize:"1rem",borderRadius:"4px",border:"1px solid #ddd"},children:[e("option",{value:"all",children:"All Types"}),e("option",{value:"article",children:"Articles"}),e("option",{value:"video",children:"Videos"})]})]}),l&&e("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"0.5rem",marginBottom:"1rem"},children:x.map(t=>e("button",{type:"button",onClick:()=>d(t.value),style:{appearance:"none",width:"100%",padding:"0.4rem 0.75rem",borderRadius:"999px",border:"1px solid #ddd",background:i===t.value?"#0066cc":"#fff",color:i===t.value?"#fff":"#444",fontSize:"0.9rem",lineHeight:1.2,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer"},title:t.label,children:t.label},t.value))}),e("div",{children:["Showing ",a.length," items"]})]}),e("div",{className:"archive-list",children:f.map(([t,c])=>e("div",{children:[e("h2",{style:{borderBottom:"2px solid #eee",paddingBottom:"0.5rem",marginTop:"2rem"},children:t}),e("ul",{style:{listStyle:"none",padding:0},children:c.map((r,h)=>e("li",{style:{marginBottom:"1.5rem"},children:[e("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"0.2rem"},children:[new Date(r.date_published).toLocaleDateString("ja-JP"),e("span",{style:{marginLeft:"0.8rem",padding:"2px 6px",borderRadius:"4px",background:r.type==="video"?"#e6f0ff":"#f0f0f0",color:r.type==="video"?"#0066cc":"#666",fontSize:"0.8rem"},children:r.type==="video"?"VIDEO":"ARTICLE"}),l&&r.type==="video"&&g(r)&&e("span",{style:{marginLeft:"0.5rem",padding:"2px 6px",borderRadius:"4px",background:"#f0f7ff",color:"#1f4d8f",fontSize:"0.8rem"},children:x.find(o=>o.value===g(r))?.label})]}),e("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.2rem"},children:e("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",children:r.title})}),r.subtitle&&e("div",{style:{fontWeight:"bold",color:"#555",fontSize:"0.95rem"},children:r.subtitle}),r.description&&e("div",{style:{fontSize:"0.95rem",color:"#444",marginTop:"0.3rem"},children:r.description}),r.chapters&&r.chapters.length>0&&e("details",{style:{marginTop:"1rem",background:"#f9f9f9",padding:"0.75rem 1rem",borderRadius:"4px"},children:[e("summary",{style:{fontSize:"0.9rem",fontWeight:"bold",color:"#0066cc",cursor:"pointer"},children:["Chapters (Video) - ",r.chapters.length]}),e("ul",{style:{paddingLeft:"1.2rem",margin:"0.75rem 0 0 0"},children:r.chapters.map((o,S)=>e("li",{style:{marginBottom:"0.5rem",fontSize:"0.9rem"},children:[e("span",{style:{fontFamily:"monospace",background:"#eee",padding:"2px 4px",borderRadius:"3px",marginRight:"8px"},children:o.timestamp}),o.url?e("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",style:{fontWeight:"500",color:"#0066cc",textDecoration:"none"},children:o.title}):e("span",{style:{fontWeight:"500"},children:o.title}),o.description&&e("div",{style:{marginTop:"2px",color:"#666",fontSize:"0.85rem",whiteSpace:"pre-wrap"},children:[o.description.slice(0,150),o.description.length>150?"...":""]})]},S))})]})]},h))})]},t))})]})}export{L as default};
